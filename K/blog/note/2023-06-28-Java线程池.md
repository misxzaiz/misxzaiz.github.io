# Java线程池

参考资料：[《Java高并发核心编程（卷2）》](https://weread.qq.com/web/bookDetail/9b93254072456ac19b9a176)

[TOC]

## 一、基本概念

### 1、创建线程的成本：

> Java线程的创建非常昂贵，需要JVM和OS（操作系统）配合完成大量的工作：
>
> （1）内存：必须为线程堆栈分配和初始化大量内存块，其中包括至少1MB的栈内存；
>
> （2）系统：需要进行系统调用，以便在OS（操作系统）中创建和注册本地线程。

### 2、使用线程池的好处

> Java高并发应用频繁创建和销毁线程的操作是非常低效的，而且是不被编程规范所允许的。
>
> 线程池主要解决以下两个问题：
>
> （1）提高性能：线程池能独立负责线程的创建、维护和分配。在执行大量异步任务时，可以不需要自己创建线程，而是将任务交给线程池去调度。线程池能尽可能使用空闲的线程去执行异步任务，最大限度地对已经创建的线程进行复用，使得性能提升明显。
>
> （2）线程管理：每个Java线程池会保持一些基本的线程统计信息，如完成的任务数量、空闲时间等，以便对线程进行有效管理，使得能对所接收到的异步人物为进行高效调度。

## 二、JUC的线程池架构

> **JUC**就是java.util.concurrent工具包的简称，该工具包是从JDK 1.5开始加入JDK的，是用于完成**高并发**、**处理多线程**的一个工具包。
>
> 在多线程编程中，任务都是一些抽象且离散的工作单元，而线程是使任务异步执行的基本机制，为了简化这些复杂的**线程管理模式**，我们使用**线程池**来统一管理线程及任务分配。

图 JUC中线程池的类与接口的架构

![img](assets/epub_38103745_16)