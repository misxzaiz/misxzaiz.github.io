import{_ as d,r as f,o as w,c as x,f as p}from"./index-CcJY19Bl.js";const g={class:"diagram-container"},k={__name:"MqDiagramNew",props:{type:{type:String,required:!0}},setup(c){const o=c,h=f(null),a={basic:{width:400,height:300,elements:[{type:"rect",x:50,y:50,width:100,height:60,fill:"#E3F2FD",stroke:"#1976D2"},{type:"text",x:100,y:85,text:"生产者",fill:"#1976D2"},{type:"rect",x:200,y:50,width:100,height:60,fill:"#FFF3E0",stroke:"#F57C00"},{type:"text",x:250,y:85,text:"消息队列",fill:"#F57C00"},{type:"rect",x:350,y:50,width:100,height:60,fill:"#FCE4EC",stroke:"#C2185B"},{type:"text",x:400,y:85,text:"消费者",fill:"#C2185B"},{type:"path",d:"M150 80 L200 80",stroke:"#666",markerEnd:"url(#arrowhead)"},{type:"path",d:"M300 80 L350 80",stroke:"#666",markerEnd:"url(#arrowhead)"}]},benefits:{width:400,height:300,elements:[{type:"circle",cx:200,cy:150,r:40,fill:"#118AB2",stroke:"#0D6B8F"},{type:"text",x:200,y:155,text:"消息队列",fill:"white"},{type:"circle",cx:100,cy:100,r:30,fill:"#E3F2FD",stroke:"#1976D2"},{type:"text",x:100,y:105,text:"解耦",fill:"#1976D2"},{type:"circle",cx:300,cy:100,r:30,fill:"#E3F2FD",stroke:"#1976D2"},{type:"text",x:300,y:105,text:"异步",fill:"#1976D2"},{type:"circle",cx:100,cy:200,r:30,fill:"#E3F2FD",stroke:"#1976D2"},{type:"text",x:100,y:205,text:"削峰",fill:"#1976D2"},{type:"circle",cx:300,cy:200,r:30,fill:"#E3F2FD",stroke:"#1976D2"},{type:"text",x:300,y:205,text:"通知",fill:"#1976D2"},{type:"path",d:"M140 120 L160 130",stroke:"#666"},{type:"path",d:"M260 120 L240 130",stroke:"#666"},{type:"path",d:"M140 180 L160 170",stroke:"#666"},{type:"path",d:"M260 180 L240 170",stroke:"#666"}]},scenarios:{width:400,height:300,elements:[{type:"rect",x:50,y:50,width:120,height:40,fill:"#E3F2FD",stroke:"#1976D2"},{type:"text",x:110,y:75,text:"电商系统",fill:"#1976D2"},{type:"rect",x:230,y:50,width:120,height:40,fill:"#FFF3E0",stroke:"#F57C00"},{type:"text",x:290,y:75,text:"社交平台",fill:"#F57C00"},{type:"rect",x:50,y:130,width:120,height:40,fill:"#FCE4EC",stroke:"#C2185B"},{type:"text",x:110,y:155,text:"金融系统",fill:"#C2185B"},{type:"rect",x:230,y:130,width:120,height:40,fill:"#E8F5E9",stroke:"#388E3C"},{type:"text",x:290,y:155,text:"物联网",fill:"#388E3C"},{type:"rect",x:140,y:210,width:120,height:40,fill:"#F3E5F5",stroke:"#7B1FA2"},{type:"text",x:200,y:235,text:"大数据",fill:"#7B1FA2"}]},workflow:{width:400,height:300,elements:[{type:"rect",x:50,y:50,width:300,height:60,fill:"#E3F2FD",stroke:"#1976D2"},{type:"text",x:200,y:85,text:"消息发送流程",fill:"#1976D2"},{type:"rect",x:50,y:120,width:300,height:60,fill:"#FFF3E0",stroke:"#F57C00"},{type:"text",x:200,y:155,text:"消息存储流程",fill:"#F57C00"},{type:"rect",x:50,y:190,width:300,height:60,fill:"#FCE4EC",stroke:"#C2185B"},{type:"text",x:200,y:225,text:"消息消费流程",fill:"#C2185B"},{type:"path",d:"M200 110 L200 120",stroke:"#666",markerEnd:"url(#arrowhead)"},{type:"path",d:"M200 180 L200 190",stroke:"#666",markerEnd:"url(#arrowhead)"}]},patterns:{width:400,height:300,elements:[{type:"rect",x:50,y:50,width:140,height:40,fill:"#E3F2FD",stroke:"#1976D2"},{type:"text",x:120,y:75,text:"点对点模式",fill:"#1976D2"},{type:"rect",x:210,y:50,width:140,height:40,fill:"#FFF3E0",stroke:"#F57C00"},{type:"text",x:280,y:75,text:"发布订阅模式",fill:"#F57C00"},{type:"rect",x:50,y:130,width:140,height:40,fill:"#FCE4EC",stroke:"#C2185B"},{type:"text",x:120,y:155,text:"请求响应模式",fill:"#C2185B"},{type:"rect",x:210,y:130,width:140,height:40,fill:"#E8F5E9",stroke:"#388E3C"},{type:"text",x:280,y:155,text:"广播模式",fill:"#388E3C"}]},reliability:{width:400,height:300,elements:[{type:"rect",x:50,y:50,width:300,height:40,fill:"#E3F2FD",stroke:"#1976D2"},{type:"text",x:200,y:75,text:"消息持久化",fill:"#1976D2"},{type:"rect",x:50,y:100,width:300,height:40,fill:"#FFF3E0",stroke:"#F57C00"},{type:"text",x:200,y:125,text:"消息确认机制",fill:"#F57C00"},{type:"rect",x:50,y:150,width:300,height:40,fill:"#FCE4EC",stroke:"#C2185B"},{type:"text",x:200,y:175,text:"消息顺序保证",fill:"#C2185B"},{type:"rect",x:50,y:200,width:300,height:40,fill:"#E8F5E9",stroke:"#388E3C"},{type:"text",x:200,y:225,text:"消息幂等性",fill:"#388E3C"}]}};return w(()=>{const i=a[o.type];if(!i)return;const l=h.value;l.setAttribute("width",i.width),l.setAttribute("height",i.height);const y=document.createElementNS("http://www.w3.org/2000/svg","defs"),r=document.createElementNS("http://www.w3.org/2000/svg","marker");r.setAttribute("id","arrowhead"),r.setAttribute("markerWidth","10"),r.setAttribute("markerHeight","7"),r.setAttribute("refX","9"),r.setAttribute("refY","3.5"),r.setAttribute("orient","auto");const s=document.createElementNS("http://www.w3.org/2000/svg","polygon");s.setAttribute("points","0 0, 10 3.5, 0 7"),s.setAttribute("fill","#666"),r.appendChild(s),y.appendChild(r),l.appendChild(y),i.elements.forEach(e=>{let t;switch(e.type){case"rect":t=document.createElementNS("http://www.w3.org/2000/svg","rect"),t.setAttribute("x",e.x),t.setAttribute("y",e.y),t.setAttribute("width",e.width),t.setAttribute("height",e.height),t.setAttribute("fill",e.fill),t.setAttribute("stroke",e.stroke);break;case"circle":t=document.createElementNS("http://www.w3.org/2000/svg","circle"),t.setAttribute("cx",e.cx),t.setAttribute("cy",e.cy),t.setAttribute("r",e.r),t.setAttribute("fill",e.fill),t.setAttribute("stroke",e.stroke);break;case"text":t=document.createElementNS("http://www.w3.org/2000/svg","text"),t.setAttribute("x",e.x),t.setAttribute("y",e.y),t.setAttribute("text-anchor","middle"),t.setAttribute("fill",e.fill),t.textContent=e.text;break;case"path":t=document.createElementNS("http://www.w3.org/2000/svg","path"),t.setAttribute("d",e.d),t.setAttribute("stroke",e.stroke),e.markerEnd&&t.setAttribute("marker-end",e.markerEnd);break}t&&l.appendChild(t)})}),(i,l)=>(p(),x("div",g,[(p(),x("svg",{ref_key:"svgRef",ref:h,class:"mq-diagram"},null,512))]))}},E=d(k,[["__scopeId","data-v-e13fa666"]]);export{E as M};
