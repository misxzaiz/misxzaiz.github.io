<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Contact</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../../css/bootstrap.min.css">
    <style>
        /* 响应式样式 */
        @media (max-width: 768px) {
            .container {
                width: 90%;
            }
            h1 {
                font-size: 28px;
            }
        }
    </style>
    <script>
        // 判断是否在微信中打开
        function isWechat() {
            var ua = navigator.userAgent.toLowerCase();
            return ua.indexOf('micromessenger') !== -1;
        }

        // 判断是否在QQ浏览器中打开
        function isQQBrowser() {
            var ua = navigator.userAgent.toLowerCase();
            return ua.indexOf('mqqbrowser') !== -1 || ua.indexOf('qq/') !== -1;
        }

        // 判断当前浏览器类型，并执行相应操作
        if (window.location.protocol === "https:" && !isWechat() && !isQQBrowser()) {
            // 在非微信、非QQ浏览器中打开
            window.location.href = "http://8.130.73.113:8081";
        } 

    </script>
</head>
<body>
	<div class="container">
		<h1 class="text-center mt-5 mb-3">留言</h1>
		<form>
			<div class="form-group">
				<label for="nameInput">昵称：</label>
				<input type="text" class="form-control" id="name" name="name" placeholder="请输入你的昵称">
			</div>
			<div class="form-group">
				<label for="contactInput">联系：</label>
				<input type="text" class="form-control" id="contact" name="contact" placeholder="请输入你的联系方式">
			</div>
			<div class="form-group">
				<label for="contentInput">内容：</label>
				<textarea class="form-control" id="content" name="content" rows="10" placeholder="请输入留言内容"></textarea>
			</div>
			<div class="text-center">
				<button type="button" id="sendBtn" class="btn btn-primary">发送</button>
                <input type="reset" class="btn btn-primary" value="清空">
			</div>
		</form>
	</div>
    <script src="../../js/jquery.min.js"></script>
    <script>
        $(function () {
            // 监听“发送邮件”按钮点击事件
            $('#sendBtn').click(function () {
                $.ajax({
                    type: "POST",
                    url: "http://8.130.73.113:8081/send",
                    data: {
                        name: $("#name").val(),
                        contact: $("#contact").val(),
                        content: $("#content").val(),
                    },
                    success: function () {
                        alert("发送成功");
                    },
					error: function(){
						alert("发送成功");
					}
                });
            });
        });
    </script>
</body>
</html>
