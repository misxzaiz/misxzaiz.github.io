import{k as e,f as t,n as r}from"./index-e7ff3e93.js";const a=()=>{let t=e("server");return`${t.protocol}://${t.ip}:${t.port}/server/dealMethod`},o=(t,r)=>d(t,r,e("token")),n=e=>t({url:a(),method:"POST",data:e}).then((e=>null!==e.data&&401===e.data.code?(r({url:"/world/crpc/auth/login"}).then((e=>{})),Promise.reject("Unauthorized")):e)),d=(e,o,n)=>{const d=function(e,t,r){const a=e.split("/");return{serverName:a[0],name:a[0],className:a[1],data:t,methodName:a[2],version:a[3],token:r}}(e,o,n);return t({url:a(),method:"POST",data:d}).then((e=>401===e.data.code?(r({url:"/world/crpc/auth/login"}).then((e=>{})),Promise.reject("Unauthorized")):e))};export{n as a,o as d};
