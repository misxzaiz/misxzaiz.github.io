import{_ as T,r as m,o as O,C as X,c as h,f as v,a,h as F,t as w,F as C,d as M,n as L,g as D,b as Y,A as B,D as R}from"./index-CI8ZozNg.js";const J={class:"game-2048"},U={class:"game-header"},P={class:"scores"},V={class:"score"},z={class:"score-value"},K={class:"score"},Z={class:"score-value"},q={key:0,class:"game-over-message"},H={__name:"Game2048",setup(j){const l=m([]),c=m(0),r=m(0),u=m(!1),y=()=>{l.value=Array(4).fill().map(()=>Array(4).fill(0)),f(),f(),c.value=0,u.value=!1},f=()=>{const o=[];if(l.value.forEach((t,s)=>{t.forEach((n,e)=>{n===0&&o.push({i:s,j:e})})}),o.length>0){const{i:t,j:s}=o[Math.floor(Math.random()*o.length)];l.value[t][s]=Math.random()<.9?2:4}},i=o=>{if(u.value)return;JSON.stringify(l.value);let t=!1;switch(o){case"left":t=p();break;case"right":t=_();break;case"up":t=k();break;case"down":t=d();break}t&&(f(),g())},p=()=>{let o=!1;for(let t=0;t<4;t++){const s=l.value[t].filter(e=>e!==0);for(let e=0;e<s.length-1;e++)s[e]===s[e+1]&&(s[e]*=2,c.value+=s[e],s.splice(e+1,1),o=!0);const n=s.concat(Array(4-s.length).fill(0));JSON.stringify(l.value[t])!==JSON.stringify(n)&&(o=!0),l.value[t]=n}return o},_=()=>{let o=!1;for(let t=0;t<4;t++){const s=l.value[t].filter(e=>e!==0);for(let e=s.length-1;e>0;e--)s[e]===s[e-1]&&(s[e]*=2,c.value+=s[e],s.splice(e-1,1),o=!0);const n=Array(4-s.length).fill(0).concat(s);JSON.stringify(l.value[t])!==JSON.stringify(n)&&(o=!0),l.value[t]=n}return o},k=()=>{let o=!1;for(let t=0;t<4;t++){let s=l.value.map(e=>e[t]).filter(e=>e!==0);for(let e=0;e<s.length-1;e++)s[e]===s[e+1]&&(s[e]*=2,c.value+=s[e],s.splice(e+1,1),o=!0);const n=s.concat(Array(4-s.length).fill(0));for(let e=0;e<4;e++)l.value[e][t]!==n[e]&&(o=!0),l.value[e][t]=n[e]}return o},d=()=>{let o=!1;for(let t=0;t<4;t++){let s=l.value.map(e=>e[t]).filter(e=>e!==0);for(let e=s.length-1;e>0;e--)s[e]===s[e-1]&&(s[e]*=2,c.value+=s[e],s.splice(e-1,1),o=!0);const n=Array(4-s.length).fill(0).concat(s);for(let e=0;e<4;e++)l.value[e][t]!==n[e]&&(o=!0),l.value[e][t]=n[e]}return o},g=()=>{for(let o=0;o<4;o++)for(let t=0;t<4;t++)if(l.value[o][t]===0)return;for(let o=0;o<4;o++)for(let t=0;t<4;t++)if(t<3&&l.value[o][t]===l.value[o][t+1]||o<3&&l.value[o][t]===l.value[o+1][t])return;u.value=!0,c.value>r.value&&(r.value=c.value)},b=o=>{switch(o.key){case"ArrowLeft":i("left");break;case"ArrowRight":i("right");break;case"ArrowUp":i("up");break;case"ArrowDown":i("down");break}};let A=0,$=0;const x=o=>{A=o.touches[0].clientX,$=o.touches[0].clientY},E=o=>{const t=o.changedTouches[0].clientX,s=o.changedTouches[0].clientY,n=t-A,e=s-$;Math.abs(n)>Math.abs(e)?n>0?i("right"):i("left"):e>0?i("down"):i("up")};return O(()=>{y(),window.addEventListener("keydown",b),window.addEventListener("touchstart",x),window.addEventListener("touchend",E)}),X(()=>{window.removeEventListener("keydown",b),window.removeEventListener("touchstart",x),window.removeEventListener("touchend",E)}),(o,t)=>(v(),h("div",J,[a("div",U,[a("div",P,[a("div",V,[t[0]||(t[0]=a("span",{class:"score-label"},"分数",-1)),a("span",z,w(c.value),1)]),a("div",K,[t[1]||(t[1]=a("span",{class:"score-label"},"最高分",-1)),a("span",Z,w(r.value),1)])]),a("button",{class:"new-game-button",onClick:y},"新游戏")]),a("div",{class:L(["game-board",{"game-over":u.value}])},[(v(!0),h(C,null,M(l.value,(s,n)=>(v(),h("div",{key:n,class:"board-row"},[(v(!0),h(C,null,M(s,(e,S)=>(v(),h("div",{key:S,class:L(["board-cell",{[`cell-${e}`]:e!==0,empty:e===0}])},w(e||""),3))),128))]))),128))],2),u.value?(v(),h("div",q,[t[2]||(t[2]=a("h2",null,"游戏结束",-1)),a("p",null,"最终得分: "+w(c.value),1),a("button",{onClick:y},"再玩一次")])):F("",!0)]))}},Q=T(H,[["__scopeId","data-v-111aae3f"]]),W={class:"snake-game"},ee={class:"game-header"},se={class:"scores"},te={class:"score"},ae={class:"score-value"},oe={class:"score"},le={class:"score-value"},ne={key:0,class:"game-over-message"},re={key:1,class:"start-message"},G=20,I=20,ce=150,ie={__name:"SnakeGame",setup(j){const l=m([]),c=m({x:0,y:0}),r=m("right"),u=m(0),y=m(0),f=m(!1),i=m(!1),p=m(null),_=()=>{l.value=[{x:10,y:10},{x:9,y:10},{x:8,y:10}],r.value="right",u.value=0,f.value=!1,i.value=!1,k()},k=()=>{let s;do s={x:Math.floor(Math.random()*G),y:Math.floor(Math.random()*G)};while(l.value.some(n=>n.x===s.x&&n.y===s.y));c.value=s},d=()=>{p.value||(i.value=!0,p.value=setInterval(b,ce))},g=()=>{p.value&&(clearInterval(p.value),p.value=null,i.value=!1)},b=()=>{const s={...l.value[0]};switch(r.value){case"up":s.y--;break;case"down":s.y++;break;case"left":s.x--;break;case"right":s.x++;break}if(s.x<0||s.x>=G||s.y<0||s.y>=G||l.value.some(n=>n.x===s.x&&n.y===s.y)){A();return}l.value.unshift(s),s.x===c.value.x&&s.y===c.value.y?(u.value++,k()):l.value.pop()},A=()=>{clearInterval(p.value),p.value=null,f.value=!0,u.value>y.value&&(y.value=u.value)},$=s=>{if(!i.value){d();return}switch(s.key){case"ArrowUp":r.value!=="down"&&(r.value="up");break;case"ArrowDown":r.value!=="up"&&(r.value="down");break;case"ArrowLeft":r.value!=="right"&&(r.value="left");break;case"ArrowRight":r.value!=="left"&&(r.value="right");break;case" ":i.value?g():d();break}};let x=0,E=0;const o=s=>{x=s.touches[0].clientX,E=s.touches[0].clientY},t=s=>{if(!i.value){d();return}const n=s.changedTouches[0].clientX,e=s.changedTouches[0].clientY,S=n-x,N=e-E;Math.abs(S)>Math.abs(N)?S>0&&r.value!=="left"?r.value="right":S<0&&r.value!=="right"&&(r.value="left"):N>0&&r.value!=="up"?r.value="down":N<0&&r.value!=="down"&&(r.value="up")};return O(()=>{_(),window.addEventListener("keydown",$),window.addEventListener("touchstart",o),window.addEventListener("touchend",t)}),X(()=>{p.value&&clearInterval(p.value),window.removeEventListener("keydown",$),window.removeEventListener("touchstart",o),window.removeEventListener("touchend",t)}),(s,n)=>(v(),h("div",W,[a("div",ee,[a("div",se,[a("div",te,[n[1]||(n[1]=a("span",{class:"score-label"},"分数",-1)),a("span",ae,w(u.value),1)]),a("div",oe,[n[2]||(n[2]=a("span",{class:"score-label"},"最高分",-1)),a("span",le,w(y.value),1)])]),a("button",{class:"control-button",onClick:n[0]||(n[0]=e=>i.value?g():d())},w(i.value?"暂停":"开始"),1)]),a("div",{class:L(["game-board",{"game-over":f.value}])},[(v(!0),h(C,null,M(l.value,e=>(v(),h("div",{key:`${e.x}-${e.y}`,class:"snake-segment",style:D({left:`${e.x*I}px`,top:`${e.y*I}px`})},null,4))),128)),a("div",{class:"food",style:D({left:`${c.value.x*I}px`,top:`${c.value.y*I}px`})},null,4)],2),f.value?(v(),h("div",ne,[n[3]||(n[3]=a("h2",null,"游戏结束",-1)),a("p",null,"最终得分: "+w(u.value),1),a("button",{onClick:_},"再玩一次")])):F("",!0),!i.value&&!f.value?(v(),h("div",re,n[4]||(n[4]=[a("h2",null,"贪吃蛇",-1),a("p",null,"按空格键或点击屏幕开始游戏",-1),a("p",null,"使用方向键或滑动控制蛇的移动",-1)]))):F("",!0)]))}},ue=T(ie,[["__scopeId","data-v-9b410e5a"]]),de={class:"memory-game"},ve={class:"game-header"},fe={class:"scores"},me={class:"score"},he={class:"score-value"},pe={class:"score"},_e={class:"score-value"},ge=["onClick"],we={class:"card-inner"},ye={class:"card-back"},ke={key:0,class:"game-over-message"},be={__name:"MemoryGame",setup(j){const l=m([]),c=m([]),r=m(0),u=m(0),y=m(!1),f=m(0),i=["🐶","🐱","🐭","🐹","🐰","🦊","🐻","🐼"],p=()=>{const k=[...i,...i];l.value=k.sort(()=>Math.random()-.5).map((d,g)=>({id:g,emoji:d,isFlipped:!1,isMatched:!1})),c.value=[],r.value=0,u.value=0,y.value=!1},_=k=>{if(!(k.isMatched||k.isFlipped||c.value.length>=2)&&(k.isFlipped=!0,c.value.push(k),c.value.length===2)){u.value++;const[d,g]=c.value;d.emoji===g.emoji?(d.isMatched=!0,g.isMatched=!0,r.value++,r.value===i.length&&(y.value=!0,(u.value<f.value||f.value===0)&&(f.value=u.value)),c.value=[]):setTimeout(()=>{d.isFlipped=!1,g.isFlipped=!1,c.value=[]},1e3)}};return(k,d)=>(v(),h("div",de,[a("div",ve,[a("div",fe,[a("div",me,[d[0]||(d[0]=a("span",{class:"score-label"},"步数",-1)),a("span",he,w(u.value),1)]),a("div",pe,[d[1]||(d[1]=a("span",{class:"score-label"},"最佳成绩",-1)),a("span",_e,w(f.value||"-"),1)])]),a("button",{class:"new-game-button",onClick:p},"新游戏")]),a("div",{class:L(["game-board",{"game-over":y.value}])},[(v(!0),h(C,null,M(l.value,g=>(v(),h("div",{key:g.id,class:L(["card",{flipped:g.isFlipped,matched:g.isMatched}]),onClick:b=>_(g)},[a("div",we,[d[2]||(d[2]=a("div",{class:"card-front"},"?",-1)),a("div",ye,w(g.emoji),1)])],10,ge))),128))],2),y.value?(v(),h("div",ke,[d[3]||(d[3]=a("h2",null,"恭喜！",-1)),a("p",null,"你用了 "+w(u.value)+" 步完成了游戏",1),a("button",{onClick:p},"再玩一次")])):F("",!0)]))}},$e=T(be,[["__scopeId","data-v-f6b496e9"]]),xe={class:"game-container"},Ee={key:0,class:"game-menu"},Se={class:"games-grid"},Ce=["onClick"],Me={class:"game-icon"},Le={class:"game-name"},Ae={class:"game-description"},Ge={key:1,class:"game-area"},Ie={class:"game-header"},Fe={class:"current-game-title"},Te={class:"game-content"},je={__name:"index",setup(j){const l=m(null),c=[{id:"2048",name:"2048",description:"经典的数字合并游戏",icon:"🎮",color:"#FFD166",component:Q},{id:"snake",name:"贪吃蛇",description:"控制蛇吃食物并成长",icon:"🐍",color:"#06D6A0",component:ue},{id:"memory",name:"记忆翻牌",description:"考验记忆力的翻牌游戏",icon:"🎴",color:"#118AB2",component:$e}],r=y=>{l.value=y},u=()=>{l.value=null};return(y,f)=>{var i,p;return v(),h("div",xe,[l.value?(v(),h("div",Ge,[a("div",Ie,[a("button",{class:"back-button",onClick:u},f[1]||(f[1]=[a("span",{class:"back-icon"},"←",-1),Y(" 返回 ")])),a("h2",Fe,w((i=c.find(_=>_.id===l.value))==null?void 0:i.name),1)]),a("div",Te,[(v(),B(R((p=c.find(_=>_.id===l.value))==null?void 0:p.component)))])])):(v(),h("div",Ee,[f[0]||(f[0]=a("h1",{class:"game-title"},"趣味小游戏",-1)),a("div",Se,[(v(),h(C,null,M(c,_=>a("div",{key:_.id,class:"game-card",style:D({"--card-color":_.color}),onClick:k=>r(_.id)},[a("div",Me,w(_.icon),1),a("h2",Le,w(_.name),1),a("p",Ae,w(_.description),1)],12,Ce)),64))])]))])}}},De=T(je,[["__scopeId","data-v-80b0c56d"]]);export{De as default};
